(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(w,x){return c.Put(function(){return function(z){return z;};},w,x);},Branch:function(A,B,C){return{Node:A,Left:B,Right:C,Height:1+d.Max(B==null?0:B.Height,C==null?0:C.Height),Count:1+(B==null?0:B.Count)+(C==null?0:C.Count)};},Build:function(D,E,F){var G,H,I,J;G=F-E+1;if(G<=0){return null;}else{H=(E+F)/2>>0;I=c.Build(D,E,H-1);J=c.Build(D,H+1,F);return c.Branch(D[H],I,J);}},Contains:function(K,L){return!((c.Lookup(K,L))[0]==null);},Enumerate:function(M,N){var O;O=$.Tupled(function(P){var Q,R,S,T,U;Q=P[0];R=P[1];if(Q==null){if(R.$==1){S=R.$0[0];T=R.$1;U=R.$0[1];return{$:1,$0:[S,[U,T]]};}else{return{$:0};}}else{if(M){return O([Q.Right,$.New(f,{$:1,$0:[Q.Node,Q.Left],$1:R})]);}else{return O([Q.Left,$.New(f,{$:1,$0:[Q.Node,Q.Right],$1:R})]);}}});return g.unfold(O,[N,$.New(f,{$:0})]);},Lookup:function(V,W){var X,Y,Z,_0;X=[[]];Y=[W];Z=[true];while(Z[0]){if(Y[0]==null){Z[0]=false;}else{_0=d.Compare(V,Y[0].Node);if(_0===0){Z[0]=false;}else{if(_0===1){X[0].unshift([true,Y[0].Node,Y[0].Left]);Y[0]=Y[0].Right;}else{X[0].unshift([false,Y[0].Node,Y[0].Right]);Y[0]=Y[0].Left;}}}}return[Y[0],X[0]];},OfSeq:function(_1){var _2;_2=h.sort(g.toArray(g.distinct(_1)));return c.Build(_2,0,_2.length-1);},Put:function(_3,_4,_5){var _6,_7,_8;_6=c.Lookup(_4,_5);_7=_6[0];_8=_6[1];if(_7==null){return c.Rebuild(_8,c.Branch(_4,null,null));}else{return c.Rebuild(_8,c.Branch((_3(_7.Node))(_4),_7.Left,_7.Right));}},Rebuild:function(_9,_){var ba,bc,bd,be,bf,bg,bh,bi,bj,bk;ba=function(bb){if(bb==null){return 0;}else{return bb.Height;}};bc=[_];for(bd=0;bd<=_9.length-1;bd++){bc[0]=(be=_9[bd],be[0]?(bf=be[1],(bg=be[2],ba(bc[0])>ba(bg)+1?ba(bc[0].Left)===ba(bc[0].Right)+1?(bh=bc[0].Left,c.Branch(bh.Node,c.Branch(bf,bg,bh.Left),c.Branch(bc[0].Node,bh.Right,bc[0].Right))):c.Branch(bc[0].Node,c.Branch(bf,bg,bc[0].Left),bc[0].Right):c.Branch(bf,bg,bc[0]))):(bi=be[1],(bj=be[2],ba(bc[0])>ba(bj)+1?ba(bc[0].Right)===ba(bc[0].Left)+1?(bk=bc[0].Right,c.Branch(bk.Node,c.Branch(bc[0].Node,bc[0].Left,bk.Left),c.Branch(bi,bk.Right,bj))):c.Branch(bc[0].Node,bc[0].Left,c.Branch(bi,bc[0].Right,bj)):c.Branch(bi,bc[0],bj))));}return bc[0];},Remove:function(bk,bl){var bm,bn,bo,bp,bq,br,bs,bt,bu,bw,by;bm=c.Lookup(bk,bl);bn=bm[0];bo=bm[1];if(bn==null){return bl;}else{if(bn.Right==null){return c.Rebuild(bo,bn.Left);}else{if(bn.Left==null){return c.Rebuild(bo,bn.Right);}else{bp=(bq=(br=g.append((bs=bn.Left,c.Enumerate(false,bs)),(bt=bn.Right,c.Enumerate(false,bt))),(bu=function(bv){return g.toArray(bv);},bu(br))),(bw=function(bx){return c.Build(bx,0,bx.length-1);},bw(bq)));by=function(bz){return c.Rebuild(bo,bz);};return by(bp);}}}},TryFind:function(bA,bB){var bC;bC=(c.Lookup(bA,bB))[0];if(bC==null){return{$:0};}else{return{$:1,$0:bC.Node};}}},Dictionary:$.Class({Add:function(bD,bE){var bF;bF=this.hash.call(null,bD);if(this.data.hasOwnProperty(bF)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bF]={K:bD,V:bE};this.count=this.count+1;}},Clear:function(){this.data={};this.count=0;},ContainsKey:function(bG){return this.data.hasOwnProperty(this.hash.call(null,bG));},GetEnumerator:function(){var bH;bH=h.map($.Tupled(function(bI){return bI[1];}),i.GetFields(this.data));return j.Get(bH);},Remove:function(bJ){var bK;bK=this.hash.call(null,bJ);if(this.data.hasOwnProperty(bK)){i.Delete(this.data,bK);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bL){var bM,bN;bM=this.hash.call(null,bL);if(this.data.hasOwnProperty(bM)){bN=this.data[bM];return bN.V;}else{return k.notPresent();}},set_Item:function(bO,bP){var bQ;bQ=this.hash.call(null,bO);if(!this.data.hasOwnProperty(bQ)){this.count=this.count+1;}this.data[bQ]={K:bO,V:bP};}},{New:function(bR,bS){var bT;bT=$.New(this,l.New11(bR,function(bU){return function(bV){return bS.Equals(bU,bV);};},function(bW){return bS.GetHashCode(bW);}));return bT;},New1:function(bX){var bY;bY=$.New(this,l.New11(bX,function(bZ){return function(b0){return m.Equals(bZ,b0);};},function(b1){return m.Hash(b1);}));return bY;},New11:function(b2,b3,b4){var b5,b6,b7,b8;b5=$.New(this,{});b5.hash=b4;b5.count=0;b5.data={};b6=j.Get(b2);while(b6.MoveNext()){b7=b6.get_Current();b5.data[b8=b7.K,b5.hash.call(null,b8)]=b7.V;}return b5;},New12:function(b9){var b_;b_=$.New(this,l.New11([],function(b$){return function(ca){return b9.Equals(b$,ca);};},function(cb){return b9.GetHashCode(cb);}));return b_;},New2:function(){var cc;cc=$.New(this,l.New11([],function(cd){return function(ce){return m.Equals(cd,ce);};},function(cf){return m.Hash(cf);}));return cc;},New3:function(){var ch;ch=$.New(this,l.New2());return ch;},New4:function(ci,cj){var ck;ck=$.New(this,l.New12(cj));return ck;}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},"FSharpMap`2":$.Class({Add:function(cl,cm){var cn,co,cp;return n.New1((cn=this.tree,(co=(cp=$.New(o,{Key:cl,Value:cm}),function(cq){return c.Add(cp,cq);}),co(cn))));},CompareTo:function(cr){return g.compareWith(function(cs){return function(ct){return d.Compare(cs,ct);};},this,cr);},ContainsKey:function(cu){var cv,cw,cx;cv=this.tree;cw=(cx=$.New(o,{Key:cu,Value:undefined}),function(cy){return c.Contains(cx,cy);});return cw(cv);},Equals:function(cz){if(this.get_Count()===cz.get_Count()){return g.forall2(function(cA){return function(cB){return m.Equals(cA,cB);};},this,cz);}else{return false;}},GetEnumerator:function(){var cC,cD,cE,cF,cG;cC=(cD=(cE=this.tree,c.Enumerate(false,cE)),(cF=(cG=function(cH){return{K:cH.Key,V:cH.Value};},function(cI){return g.map(cG,cI);}),cF(cD)));return j.Get(cC);},GetHashCode:function(){var cJ;cJ=g.toArray(this);return m.Hash(cJ);},Remove:function(cK){var cL,cM,cN;return n.New1((cL=this.tree,(cM=(cN=$.New(o,{Key:cK,Value:undefined}),function(cO){return c.Remove(cN,cO);}),cM(cL))));},TryFind:function(cP){var cQ,cR,cS,cT,cV,cW;cQ=(cR=this.tree,(cS=(cT=$.New(o,{Key:cP,Value:undefined}),function(cU){return c.TryFind(cT,cU);}),cS(cR)));cV=(cW=function(cX){return cX.Value;},function(cY){return p.map(cW,cY);});return cV(cQ);},get_Count:function(){var cZ;cZ=this.tree;if(cZ==null){return 0;}else{return cZ.Count;}},get_IsEmpty:function(){return this.tree==null;},get_Item:function(c0){var c1,c2;c1=this.TryFind(c0);if(c1.$==0){return d.FailWith("The given key was not present in the dictionary.");}else{c2=c1.$0;return c2;}},get_Tree:function(){return this.tree;}},{New:function(c3){var c4;c4=$.New(this,n.New1(q.fromSeq(c3)));return c4;},New1:function(c5){var c6;c6=$.New(this,{});c6.tree=c5;return c6;}}),"FSharpSet`1":$.Class({Add:function(c7){return r.New1(c.Add(c7,this.tree));},CompareTo:function(c8){return g.compareWith(function(c9){return function(c_){return d.Compare(c9,c_);};},this,c8);},Contains:function(c$){return c.Contains(c$,this.tree);},Equals:function(da){if(this.get_Count()===da.get_Count()){return g.forall2(function(db){return function(dc){return m.Equals(db,dc);};},this,da);}else{return false;}},GetEnumerator:function(){var dd,de;dd=(de=this.tree,c.Enumerate(false,de));return j.Get(dd);},GetHashCode:function(){var df;return-1741749453+(df=g.toArray(this),m.Hash(df));},IsProperSubsetOf:function(dg){if(this.IsSubsetOf(dg)){return this.get_Count()<dg.get_Count();}else{return false;}},IsProperSupersetOf:function(dh){if(this.IsSupersetOf(dh)){return this.get_Count()>dh.get_Count();}else{return false;}},IsSubsetOf:function(di){return g.forall(function(dj){return di.Contains(dj);},this);},IsSupersetOf:function(dk){var dm=this;return g.forall(function(dl){return dm.Contains(dl);},dk);},Remove:function(dn){return r.New1(c.Remove(dn,this.tree));},add:function(_do){var dp,dq;dp=g.append(this,_do);dq=c.OfSeq(dp);return r.New1(dq);},get_Count:function(){var dr;dr=this.tree;if(dr==null){return 0;}else{return dr.Count;}},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){var ds;return g.head((ds=this.tree,c.Enumerate(true,ds)));},get_MinimumElement:function(){var dt;return g.head((dt=this.tree,c.Enumerate(false,dt)));},get_Tree:function(){return this.tree;},sub:function(du){return s.Filter(function(dv){return!du.Contains(dv);},this);}},{New:function(dw){var dx;dx=$.New(this,r.New1(t.ofSeq(dw)));return dx;},New1:function(dy){var dz;dz=$.New(this,{});dz.tree=dy;return dz;}}),MapModule:{Exists:function(dA,dB){var dC,dD;dC=(dD=function(dE){return(dA(dE.K))(dE.V);},function(dF){return g.exists(dD,dF);});return dC(dB);},Filter:function(dG,dH){var dI,dJ,dK,dL,dM,dN,dO,dR,dT,dV;dI=(dJ=(dK=(dL=(dM=dH.get_Tree(),c.Enumerate(false,dM)),(dN=(dO=function(dP){return(dG(dP.Key))(dP.Value);},function(dQ){return g.filter(dO,dQ);}),dN(dL))),(dR=function(dS){return g.toArray(dS);},dR(dK))),(dT=function(dU){return c.Build(dU,0,dU.length-1);},dT(dJ)));dV=function(dW){return n.New1(dW);};return dV(dI);},FindKey:function(dX,dY){var dZ,d0;dZ=(d0=function(d1){if((dX(d1.K))(d1.V)){return{$:1,$0:d1.K};}else{return{$:0};}},function(d2){return g.pick(d0,d2);});return dZ(dY);},Fold:function(d3,d4,d5){var d6,d7,d8,d9;d6=(d7=d5.get_Tree(),c.Enumerate(false,d7));d8=(d9=function(d_){return function(d$){return((d3(d_))(d$.Key))(d$.Value);};},function(ea){return g.fold(d9,d4,ea);});return d8(d6);},FoldBack:function(eb,ec,ed){var ee,ef,eg,eh;ee=(ef=ec.get_Tree(),c.Enumerate(true,ef));eg=(eh=function(ei){return function(ej){return((eb(ej.Key))(ej.Value))(ei);};},function(ek){return g.fold(eh,ed,ek);});return eg(ee);},ForAll:function(el,em){var en,eo;en=(eo=function(ep){return(el(ep.K))(ep.V);},function(eq){return g.forall(eo,eq);});return en(em);},Iterate:function(er,es){var et,eu;et=(eu=function(ev){return(er(ev.K))(ev.V);},function(ew){return g.iter(eu,ew);});return et(es);},Map:function(ex,ey){var ez,eA,eB,eC,eD,eE,eH,eJ;ez=(eA=(eB=(eC=ey.get_Tree(),c.Enumerate(false,eC)),(eD=(eE=function(eF){return $.New(o,{Key:eF.Key,Value:(ex(eF.Key))(eF.Value)});},function(eG){return g.map(eE,eG);}),eD(eB))),(eH=function(eI){return c.OfSeq(eI);},eH(eA)));eJ=function(eK){return n.New1(eK);};return eJ(ez);},OfArray:function(eL){var eM,eN,eO,eP,eU,eW;eM=(eN=(eO=(eP=$.Tupled(function(eQ){var eR,eS;eR=eQ[0];eS=eQ[1];return $.New(o,{Key:eR,Value:eS});}),function(eT){return g.map(eP,eT);}),eO(eL)),(eU=function(eV){return c.OfSeq(eV);},eU(eN)));eW=function(eX){return n.New1(eX);};return eW(eM);},Partition:function(eY,eZ){var e0,e1,e2,e3,e4,e7,e8,e9,e_;e0=(e1=g.toArray((e2=eZ.get_Tree(),c.Enumerate(false,e2))),(e3=(e4=function(e5){return(eY(e5.Key))(e5.Value);},function(e6){return h.partition(e4,e6);}),e3(e1)));e7=e0[1];e8=e0[0];return[(e9=c.Build(e8,0,e8.length-1),n.New1(e9)),(e_=c.Build(e7,0,e7.length-1),n.New1(e_))];},Pick:function(e$,fa){var fb,fc;fb=(fc=function(fd){return(e$(fd.K))(fd.V);},function(fe){return g.pick(fc,fe);});return fb(fa);},ToSeq:function(ff){var fg,fh,fi,fj;fg=(fh=ff.get_Tree(),c.Enumerate(false,fh));fi=(fj=function(fk){return[fk.Key,fk.Value];},function(fl){return g.map(fj,fl);});return fi(fg);},TryFind:function(fm,fn){return fn.TryFind(fm);},TryFindKey:function(fo,fp){var fq,fr;fq=(fr=function(fs){if((fo(fs.K))(fs.V)){return{$:1,$0:fs.K};}else{return{$:0};}},function(ft){return g.tryPick(fr,ft);});return fq(fp);},TryPick:function(fu,fv){var fw,fx;fw=(fx=function(fy){return(fu(fy.K))(fy.V);},function(fz){return g.tryPick(fx,fz);});return fw(fv);}},MapUtil:{fromSeq:function(fA){var fB;fB=g.toArray(g.delay(function(){return g.collect($.Tupled(function(fD){var fE,fF;fE=fD[1];fF=fD[0];return[$.New(o,{Key:fF,Value:fE})];}),g.distinctBy($.Tupled(function(fG){return fG[0];}),fA));}));h.sortInPlace(fB);return c.Build(fB,0,fB.length-1);}},"Pair`2":$.Class({CompareTo:function(fH){return d.Compare(this.Key,fH.Key);},Equals:function(fI){return m.Equals(this.Key,fI.Key);},GetHashCode:function(){var fJ;fJ=this.Key;return m.Hash(fJ);}}),ResizeArray:{"ResizeArrayProxy`1":$.Class({Add:function(fK){return this.arr.push(fK);},AddRange:function(fL){var fN=this;return g.iter(function(fM){return fN.Add(fM);},fL);},Clear:function(){var fO,fP;fO=u.splice(this.arr,0,this.arr.length,[]);fP=function(fQ){fQ;};return fP(fO);},CopyTo:function(fR){return this.CopyTo1(fR,0);},CopyTo1:function(fS,fT){return this.CopyTo2(0,fS,fT,this.get_Count());},CopyTo2:function(fU,fV,fW,fX){return h.blit(this.arr,fU,fV,fW,fX);},GetRange:function(fY,fZ){return v.New3(h.sub(this.arr,fY,fZ));},Insert:function(f0,f1){var f2,f3;f2=u.splice(this.arr,f0,0,[f1]);f3=function(f4){f4;};return f3(f2);},InsertRange:function(f5,f6){var f7,f8;f7=u.splice(this.arr,f5,0,g.toArray(f6));f8=function(f9){f9;};return f8(f7);},RemoveAt:function(f_){var f$,ga;f$=u.splice(this.arr,f_,1,[]);ga=function(gb){gb;};return ga(f$);},RemoveRange:function(gc,gd){var ge,gf;ge=u.splice(this.arr,gc,gd,[]);gf=function(gg){gg;};return gf(ge);},Reverse:function(){return this.arr.reverse();},Reverse1:function(gh,gi){return h.reverse(this.arr,gh,gi);},ToArray:function(){return this.arr.slice(0);},get_Count:function(){return this.arr.length;},get_Item:function(gj){return this.arr[gj];}},{New:function(gk){var gl;gl=$.New(this,v.New3(g.toArray(gk)));return gl;},New1:function(){var gn;gn=$.New(this,v.New3([]));return gn;},New2:function(){var go;go=$.New(this,v.New3([]));return go;},New3:function(gp){var gq;gq=$.New(this,{});gq.arr=gp;return gq;}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(gr,gs){var gt,gu;gt=(gu=g.toArray(g.filter(gr,gs)),c.Build(gu,0,gu.length-1));return r.New1(gt);},FoldBack:function(gv,gw,gx){var gA;return g.fold(function(gy){return function(gz){return(gv(gz))(gy);};},gx,(gA=gw.get_Tree(),c.Enumerate(true,gA)));},Partition:function(gB,gC){var gD,gE,gF,gG,gH;gD=h.partition(gB,g.toArray(gC));gE=gD[1];gF=gD[0];return[(gG=c.OfSeq(gF),r.New1(gG)),(gH=c.OfSeq(gE),r.New1(gH))];}},SetUtil:{ofSeq:function(gI){var gJ;gJ=g.toArray(gI);h.sortInPlace(gJ);return c.Build(gJ,0,gJ.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.List);f=$.Safe(e.T);g=$.Safe(a.Seq);h=$.Safe(a.Arrays);i=$.Safe(a.JavaScript);j=$.Safe(a.Enumerator);k=$.Safe(b.DictionaryUtil);l=$.Safe(b.Dictionary);m=$.Safe(a.Unchecked);n=$.Safe(b["FSharpMap`2"]);o=$.Safe(b["Pair`2"]);p=$.Safe(a.Option);q=$.Safe(b.MapUtil);r=$.Safe(b["FSharpSet`1"]);s=$.Safe(b.SetModule);t=$.Safe(b.SetUtil);u=$.Safe(b.ResizeArray);return v=$.Safe(u["ResizeArrayProxy`1"]);});$.OnLoad(function(){});}());
